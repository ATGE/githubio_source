---
title: "Quick example"
description: "<p >We are ushering in a new era at SoftLayer with the release of the SoftLayer API.&nbsp;The API opens endless possibil"
date: "2007-05-21"
author: "dgeorge"
tags:
    - "blog"
---

<p >We are ushering in a new era at SoftLayer with the release of the SoftLayer API.&nbsp;The API opens endless possibilities for our customers to integrate SoftLayer specific functionality into their corporate infrastructure and / or software products.&nbsp;With the API, you can provide datacenter specific control for your server or custom management of SoftLayer services to your customer base. For server resellers, this allows unbranded SoftLayer functionality to their customers via integration into their current customer portal. The API utilizes SOAP or XML-RPC for a communication protocol, by using a non-language specific protocol like SOAP or XML-RPC integration can be made with most current programming languages.</p>
<p>With the growing adoption of PHP on the web, I am going to show you a quick example utilizing PHP 5 with SOAP support enabled. For this example, we are going to pull the list of servers associated with an account and format the results into an html table.&nbsp;This should provide a brief overview to how easy integration into a system utilizing PHP could be. </p>
<p>Let start by defining a few variables we will use which are commented below:</p>
<p><span style="color: #000000"><br />
<span style="color: #0000BB"><?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF9900">//&nbsp;Enables&nbsp;or&nbsp;disables&nbsp;the&nbsp;WSDL&nbsp;caching&nbsp;feature&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">"soap.wsdl_cache_enabled"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"0"</span><span style="color: #007700">);&nbsp;<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF9900">//&nbsp;Your&nbsp;API&nbsp;Access&nbsp;key,&nbsp;that&nbsp;you&nbsp;generated&nbsp;in&nbsp;the&nbsp;customer&nbsp;portal&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'AUTH_KEY'</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'000000000000000000000000000000000000000000000000000'</span><span style="color: #007700">);&nbsp;<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF9900">//&nbsp;Your&nbsp;Customer&nbsp;Portal&nbsp;Username&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'AUTH_USER'</span><span style="color: #007700">,</span><span style="color: #DD0000">'SL00000'</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;</span><span style="color: #FF9900">//&nbsp;Where&nbsp;our&nbsp;SOAP&nbsp;server&nbsp;is&nbsp;located&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'SOAP_SERVER_LOCATION&nbsp;'</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'https://api.service.softlayer.com/soap/v1/SL-Service.html'</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">?><br /></span><br />
</span></p>
<p>Our first step after setting our configuration options is to create the SOAP client connection:</p>
<p><span style="color: #000000"><br />
<span style="color: #0000BB"><?php<br />$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'location'&nbsp;</span><span style="color: #007700">=>&nbsp;</span><span style="color: #0000BB">SOAP_SERVER_LOCATION</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'uri'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=>&nbsp;</span><span style="color: #0000BB">SOAP_SERVER_LOCATION</span><span style="color: #007700">)&nbsp;);<br /></span><span style="color: #0000BB">?></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span></p>
<p>Next we will setup a few variables to be used with a try / catch statement.&nbsp;The try / catch statement will perform the call to the SOAP server:</p>
<p><span style="color: #000000"><br />
<span style="color: #0000BB"><?php<br /></span><span style="color: #FF9900">#&nbsp;Did&nbsp;our&nbsp;SOAP&nbsp;call&nbsp;complete?<br /></span><span style="color: #0000BB">$bolResult&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;&nbsp;</p>
<p></span><span style="color: #FF9900">#&nbsp;What&nbsp;was&nbsp;the&nbsp;returned&nbsp;error&nbsp;message<br /></span><span style="color: #0000BB">$strErrorMessage&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;</p>
<p></span><span style="color: #FF9900">#&nbsp;Lets&nbsp;store&nbsp;our&nbsp;results&nbsp;in&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$arrResult&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array();</p>
<p>try&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$arrResult&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-></span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #DD0000">"getServerList"</span><span style="color: #007700">,&nbsp;array()&nbsp;,</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">'myUrn'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'authenticate'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #0000BB">AUTH_USER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">AUTH_KEY</span><span style="color: #007700">)&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bolResult&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true<br /></span><span style="color: #007700">}&nbsp;catch(&nbsp;</span><span style="color: #0000BB">SoapFault&nbsp;$e&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$strErrorMessage&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-></span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br />}<br /></span><span style="color: #0000BB">?><br /></span><br />
</span></p>
<p>You might have noticed that we created a SOAP header that was placed in the call. This was used to pass the login credentials for authentication on the server.</p>
<p>At this point, there should be a response or an error message.<span>  </span>Next we will do some basic formatting for the web to show the results.</p>
<p><span style="color: #000000"><br />
<span style="color: #0000BB"><?php<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$bolResult</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<table&nbsp;cellpadding="2">'</span><span style="color: #007700">.</span><span style="color: #DD0000">"\
"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$arrResult</span><span style="color: #007700">)){<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$arrResult&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<tr>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<td>'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">[</span><span style="color: #DD0000">'ID'</span><span style="color: #007700">].</span><span style="color: #DD0000">'</td>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<td>'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVERNAME'</span><span style="color: #007700">].</span><span style="color: #DD0000">'</td>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<td>'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">[</span><span style="color: #DD0000">'PUBLIC_IP_ADDRESS'</span><span style="color: #007700">].</span><span style="color: #DD0000">'</td>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<td>'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">[</span><span style="color: #DD0000">'PRIVATE_IP_ADDRESS'</span><span style="color: #007700">].</span><span style="color: #DD0000">'</td>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'<td>'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arrServer</span><span style="color: #007700">[</span><span style="color: #DD0000">'MGMT_IP_ADDRESS'</span><span style="color: #007700">].</span><span style="color: #DD0000">'</td>'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</tr>\
"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"<tr><td>No&nbsp;Servers&nbsp;Found!</td></tr>"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</table>\
"</span><span style="color: #007700">;<br />}else{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;was&nbsp;an&nbsp;error&nbsp;with&nbsp;your&nbsp;SOAP&nbsp;call<br>\
"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Error&nbsp;Response:<br>\
"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$strErrorMessage</span><span style="color: #007700">.</span><span style="color: #DD0000">"<br>\
"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"Done!<br>\
"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?><br /></span><br />
</span></p>
<p><A href="/php_source_blogs/quick_example.all.phps" target="_blank">View Complete PHP Source File</a><bR /><br />
</p>
<p>This sums up how to make a request using PHP 5 with SOAP support enabled.&nbsp;Using the SOAP or XML-RPC protocol make the API easy to integrate into most languages, but makes it difficult to cover every language in an example. For that reason, I have included some raw SOAP requests below. If you can send a RAW HTTP POST request to our SOAP server in the format below, chances are your language can integrate into the SoftLayer API.</p>
<p><b>Example SOAP Request (no parameters)</b><br />
<span style="color: #000000"><br />
<?xml&nbsp;version="1.0"&nbsp;encoding="UTF-8"?><br />&nbsp;&nbsp;&nbsp;<SOAP-ENV:Envelope&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ns1="http://schemas.xmlsoap.org/soap/encoding/"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsd="http://www.w3.org/1999/XMLSchema"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SOAP-ENV:Header><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<ns2:authenticate><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<xsd:string>SL00000</xsd:string><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<xsd:string>0000000</xsd:string><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</ns2:authenticate><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SOAP-ENV:Header></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SOAP-ENV:Body><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<ns1:getServerList/><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SOAP-ENV:Body><br />&nbsp;&nbsp;&nbsp;</SOAP-ENV:Envelope></p>
<p></span></p>
<p><b>Example SOAP Request (with parameters)</b><br />
<span style="color: #000000"><br />
<?xml&nbsp;version="1.0"&nbsp;encoding="UTF-8"?><br />&nbsp;&nbsp;&nbsp;<SOAP-ENV:Envelope&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ns1="http://schemas.xmlsoap.org/soap/encoding/"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsd="http://www.w3.org/1999/XMLSchema"&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SOAP-ENV:Header><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<ns2:authenticate><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<xsd:string>SL00000</xsd:string><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<xsd:string>0000000</xsd:string><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</ns2:authenticate><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SOAP-ENV:Header></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SOAP-ENV:Body><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<namesp1:getServerSoftwareDetails&nbsp;xmlns:namesp1="ns1"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<param0&nbsp;xsi:type="xsd:int">0000</param0><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</namesp1:getServerSoftwareDetails><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SOAP-ENV:Body><br />&nbsp;&nbsp;&nbsp;</SOAP-ENV:Envelope></p>
<p></span><br />
<br />
Additional Resources:<br />
 <a href="http://www.php.net/manual/en/ref.soap.php" target="_blank">http://www.php.net/manual/en/ref.soap.php</a><br />
 <a href="http://en.wikipedia.org/wiki/SOAP" target="_blank">http://en.wikipedia.org/wiki/SOAP</a><br />
 <a href="http://www.xmlrpc.com/" target="_blank">http://www.xmlrpc.com/</a></p>

